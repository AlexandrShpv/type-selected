!function(){let e=!0,t=!0;const n=document.createElement("button");n.id="text-verification-toggle",n.textContent="✓ Text Verification: ON",n.style.position="fixed",n.style.top="10px",n.style.right="10px",n.style.zIndex="10000",n.style.padding="8px 12px",n.style.backgroundColor="#4CAF50",n.style.color="white",n.style.border="none",n.style.borderRadius="4px",n.style.cursor="pointer",n.style.fontSize="12px",n.style.fontFamily="Arial, sans-serif",n.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)",n.style.transition="background-color 0.3s ease";const o=document.createElement("button");o.id="translation-toggle",o.textContent="✓ Translation: ON",o.style.position="fixed",o.style.top="50px",o.style.right="10px",o.style.zIndex="10000",o.style.padding="8px 12px",o.style.backgroundColor="#2196F3",o.style.color="white",o.style.border="none",o.style.borderRadius="4px",o.style.cursor="pointer",o.style.fontSize="12px",o.style.fontFamily="Arial, sans-serif",o.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)",o.style.transition="background-color 0.3s ease";const l=document.createElement("div");l.id="text-verification-overlay",l.style.position="absolute",l.style.zIndex="9999",l.style.border="1px solid #ccc",l.style.backgroundColor="rgba(255, 255, 255, 0.98)",l.style.padding="0px",l.style.boxSizing="content-box",l.style.display="none",l.style.fontFamily="monospace",l.style.fontSize="1em",l.style.lineHeight="1.2",l.style.whiteSpace="pre-wrap",l.style.wordWrap="break-word";const s=document.createElement("div");s.style.position="relative",s.style.width="100%",s.style.minHeight="50px",l.appendChild(s);const i=document.createElement("textarea");i.style.outline="none",i.style.border="none",i.style.background="transparent",i.style.resize="none",i.style.padding="0",i.style.margin="0",i.style.fontSize="inherit",i.style.fontFamily="inherit",i.style.lineHeight="inherit",i.style.whiteSpace="pre-wrap",i.style.wordWrap="break-word",i.style.overflow="hidden",i.style.width="100%",i.style.height="100%",i.style.color="transparent",i.style.caretColor="black",s.appendChild(i);const r=document.createElement("div");r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.pointerEvents="none",r.style.fontFamily="inherit",r.style.fontSize="inherit",r.style.lineHeight="inherit",r.style.whiteSpace="pre-wrap",r.style.wordWrap="break-word",r.style.padding="0px",r.style.boxSizing="border-box",s.appendChild(r);const a=document.createElement("div");a.style.borderTop="1px solid #ddd",a.style.padding="8px",a.style.backgroundColor="rgba(248, 248, 248, 0.95)",a.style.display="none";const d=document.createElement("div");d.style.marginBottom="8px",d.style.display="flex",d.style.alignItems="center",d.style.gap="8px";const c=document.createElement("label");c.textContent="Translate to:",c.style.fontSize="12px",c.style.fontFamily="Arial, sans-serif",c.style.color="#666",d.appendChild(c);const y=document.createElement("select");y.style.fontSize="12px",y.style.fontFamily="Arial, sans-serif",y.style.padding="2px 4px",y.style.border="1px solid #ccc",y.style.borderRadius="3px",y.style.backgroundColor="white",[{code:"en",name:"English"},{code:"ru",name:"Russian"},{code:"lv",name:"Latvian"}].forEach((e=>{const t=document.createElement("option");t.value=e.code,t.textContent=e.name,y.appendChild(t)})),d.appendChild(y),a.appendChild(d);const p=document.createElement("textarea");p.style.width="100%",p.style.minHeight="60px",p.style.fontSize="14px",p.style.fontFamily="Arial, sans-serif",p.style.padding="8px",p.style.border="1px solid #ccc",p.style.borderRadius="4px",p.style.backgroundColor="white",p.style.resize="vertical",p.style.outline="none",p.placeholder="Translation will appear here...",p.readOnly=!0,a.appendChild(p),l.appendChild(a),document.body.appendChild(n),document.body.appendChild(o),document.body.appendChild(l);let u,g,m,h,f,x,b="",w=!1,C=!1,v=!1;function E(){e?(n.textContent="✓ Text Verification: ON",n.style.backgroundColor="#4CAF50"):(n.textContent="✗ Text Verification: OFF",n.style.backgroundColor="#f44336",l.style.display="none")}function k(){t?(o.textContent="✓ Translation: ON",o.style.backgroundColor="#2196F3","block"===l.style.display&&(a.style.display="block",S())):(o.textContent="✗ Translation: OFF",o.style.backgroundColor="#f44336",a.style.display="none")}async function S(){const e=b,t=y.value;if(e.trim()){p.placeholder="Translating...";try{const n=await async function(e,t){try{const n=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${t}&dt=t&q=${encodeURIComponent(e)}`,o=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(!o.ok)throw new Error(`Translation failed: ${o.status}`);const l=await o.json();let s="";if(l[0]&&l[0].length>0)for(let e=0;e<l[0].length;e++)l[0][e]&&l[0][e][0]&&(s+=l[0][e][0]);if(s)return s;throw new Error("No translation returned")}catch(n){console.error("Translation error:",n);const o={en:e,ru:{This:"Это",is:"это",a:"это",sample:"пример",text:"текст",for:"для",testing:"тестирования",the:"the","always-visible":"всегда видимый",translation:"перевод",functionality:"функциональность",Hello:"Привет",world:"мир",amazing:"удивительный"},lv:{This:"Šis",is:"ir",a:"ir",sample:"paraugs",text:"teksts",for:"priekš",testing:"testēšana",the:"the","always-visible":"vienmēr redzams",translation:"tulkojums",functionality:"funkcionalitāte",Hello:"Sveiki",world:"pasaule",amazing:"neparasts"}};return"en"===t?e:o[t]?e.split(" ").map((e=>{const n=e.toLowerCase().replace(/[.,!?;:]/g,""),l=o[t][n]||e;return e[0]===e[0].toUpperCase()?l.charAt(0).toUpperCase()+l.slice(1):l})).join(" "):`[Translation to ${t.toUpperCase()} failed] ${e}`}}(e,t);p.value=n}catch(e){p.value=`Translation error: ${e.message}`}}else p.value=""}n.addEventListener("click",(()=>{e=!e,E()})),o.addEventListener("click",(()=>{t=!t,k()})),E(),k(),y.addEventListener("change",S),document.addEventListener("mouseup",(n=>{if(w)return w=!1,void(l.style.cursor="default");if(!e)return;const o=window.getSelection(),s=o.toString();if(s&&!l.contains(o.anchorNode)){b=s;const e=o.getRangeAt(0),n=e.getBoundingClientRect(),d=e.commonAncestorContainer;if(d){const e=d.nodeType===Node.ELEMENT_NODE?d:d.parentElement;if(e){const t=window.getComputedStyle(e);l.style.fontFamily=t.fontFamily,l.style.fontSize=t.fontSize,l.style.fontWeight=t.fontWeight,l.style.fontStyle=t.fontStyle,l.style.lineHeight=t.lineHeight}}l.style.top=n.top+window.scrollY-2+"px",l.style.left=`${n.left+window.scrollX}px`,l.style.width=`${n.width+10}px`,l.style.height=`${n.height+5}px`,l.style.display="block",i.value="",i.focus(),r.textContent="",p.value="",t&&(a.style.display="block",S())}})),i.addEventListener("scroll",(()=>{r.scrollTop=i.scrollTop,r.scrollLeft=i.scrollLeft})),i.addEventListener("input",(()=>{const e=i.value;let t="";for(let n=0;n<e.length;n++)n<b.length&&e[n]===b[n]?t+=`<span style="color: green;">${e[n]}</span>`:t+=`<span style="color: red;">${e[n]}</span>`;r.innerHTML=t})),l.addEventListener("mousedown",(e=>{e.ctrlKey&&(w=!0,u=e.clientX-l.getBoundingClientRect().left,g=e.clientY-l.getBoundingClientRect().top,l.style.cursor="move")})),document.addEventListener("mousemove",(e=>{w&&(l.style.left=e.clientX-u+"px",l.style.top=e.clientY-g+"px")})),document.addEventListener("keydown",(e=>{"Control"===e.key&&(l.style.opacity="0.2")})),document.addEventListener("keyup",(e=>{"Control"===e.key&&(l.style.opacity="1")})),l.addEventListener("dblclick",(()=>{l.style.display="none"})),n.addEventListener("mousedown",(e=>{C=!0,m=e.clientX-n.getBoundingClientRect().left,h=e.clientY-n.getBoundingClientRect().top,n.style.cursor="move",n.style.transition="none"})),o.addEventListener("mousedown",(e=>{v=!0,f=e.clientX-o.getBoundingClientRect().left,x=e.clientY-o.getBoundingClientRect().top,o.style.cursor="move",o.style.transition="none"})),document.addEventListener("mousemove",(e=>{C&&(n.style.left=e.clientX-m+"px",n.style.top=e.clientY-h+"px",n.style.right="auto"),v&&(o.style.left=e.clientX-f+"px",o.style.top=e.clientY-x+"px",o.style.right="auto")})),document.addEventListener("mouseup",(()=>{C&&(C=!1,n.style.cursor="pointer",n.style.transition="background-color 0.3s ease"),v&&(v=!1,o.style.cursor="pointer",o.style.transition="background-color 0.3s ease")}))}();